# Development configuration
# Replace localhost with your domain for production

localhost {
    reverse_proxy app:3000
}

# Production configuration (uncomment and update domain)
# hoanguyen.dev {
#     # Enable automatic HTTPS
#     tls {
#         protocols tls1.2 tls1.3
#     }
#
#     # Security headers
#     header {
#         X-Frame-Options "SAMEORIGIN"
#         X-Content-Type-Options "nosniff"
#         X-XSS-Protection "1; mode=block"
#         Referrer-Policy "strict-origin-when-cross-origin"
#         Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
#     }
#
#     # Gzip compression
#     encode gzip
#
#     # Reverse proxy to app
#     reverse_proxy app:3000 {
#         header_up Host {host}
#         header_up X-Real-IP {remote}
#         header_up X-Forwarded-For {remote}
#         header_up X-Forwarded-Proto {scheme}
#     }
#
#     # Static file caching
#     @static {
#         path *.css *.js *.png *.jpg *.jpeg *.gif *.webp *.svg *.ico *.woff *.woff2
#     }
#     header @static Cache-Control "public, max-age=31536000, immutable"
#
#     # Log access
#     log {
#         output file /var/log/caddy/access.log
#         format json
#     }
# }
